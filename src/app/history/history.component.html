<div class='title'>
	<h1>Purchase History</h1>	
</div>
<!-- Table -->
<div>
	<!-- search -->
	<!-- <mat-form-field>
	<input type="text" matInput [(ngModel)]="searchdata" (keydown)="searchKeyDown($event,searchdata)" placeholder="Search">
	</mat-form-field>
	<mat-icon svgIcon="search" mat-button  (click)="doSearch(searchdata)" class="cpointer"></mat-icon> -->
	<button mat-stroked-button id="print" (click)='printSummary()'>Print History</button>
	<br><br>
	<table mat-table table [dataSource]="historyToDisplay" class="mat-elevation-z8">
		<ng-container matColumnDef="no">
	    	<th mat-header-cell *matHeaderCellDef> No. </th>
	    	<td mat-cell *matCellDef="let history; let i = index"> {{ i+1 }} </td>
	  	</ng-container>

		  <ng-container matColumnDef="productname">
		    <th mat-header-cell  *matHeaderCellDef> Product Name </th>
		    <td mat-cell *matCellDef="let history"> {{history.product_name}} </td>
		  </ng-container>

		  <ng-container matColumnDef="vendorname">
		    <th mat-header-cell  *matHeaderCellDef> Vendor Name </th>
		    <td mat-cell *matCellDef="let history"> {{history.vendor_name}} </td>
		  </ng-container>

		  <ng-container matColumnDef="purchasedate">
		    <th mat-header-cell *matHeaderCellDef> Purchase Date </th>
		    <td mat-cell *matCellDef="let history"> {{history.purchase_date | date:'longDate'}} </td>
		  </ng-container>

		  <ng-container matColumnDef="amount">
		    <th mat-header-cell *matHeaderCellDef> Amount </th>
		    <td mat-cell *matCellDef="let history"> {{history.amount}} </td>
		  </ng-container>

		  <ng-container matColumnDef="price">
		    <th mat-header-cell *matHeaderCellDef> Price </th>
		    <td mat-cell *matCellDef="let history">{{history.price | currency:'IDR':'symbol-narrow'}} </td>
		  </ng-container>

		  <ng-container matColumnDef="totalprice">
		    <th mat-header-cell *matHeaderCellDef> Total Price </th>
		    <td mat-cell *matCellDef="let history">{{history.totalprice | currency:'IDR':'symbol-narrow'}} </td>
		  </ng-container>

		  <ng-container matColumnDef="status">
		    <th mat-header-cell *matHeaderCellDef> Status </th>
		    <td mat-cell *matCellDef="let history">{{history.status}} </td>
		  </ng-container>

		  <ng-container matColumnDef="staffname">
		    <th mat-header-cell *matHeaderCellDef> Staff Name </th>
		    <td mat-cell *matCellDef="let history"> {{history.staff_name}} </td>
		  </ng-container>

		  <!-- <ng-container matColumnDef="action">
		    <th mat-header-cell *matHeaderCellDef> Action </th>
		    <td mat-cell *matCellDef="let history">
		    	<mat-select placeholder="Select an action">
		    		<mat-option [value]="editRealization" routerLink="/realization-detail/{{ history.submission_id }}">Detail</mat-option>
		    	</mat-select>
		    </td>
		  </ng-container> -->

		  <tr mat-header-row *matHeaderRowDef="displayedColumnsHistory"></tr>
		  <tr mat-row *matRowDef="let row; columns: displayedColumnsHistory;"></tr>

		  <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
	</table>
	<mat-paginator  [length]="length" [pageSize]="pageSize" [pageSizeOptions]="pageSizeOptions" (page) = "changePage($event)" >
	</mat-paginator>
</div>