<div class='title'>
	<h1>Add New Submission</h1>
	<h2>{{noBudgeting}}</h2>
</div>
<div class="body">
	<div class="atas">
		<!-- tanggal submission -->
		<div class="ataskiri">
			<mat-form-field class="full-width">
			<input matInput [matDatepicker]="picker" [(ngModel)]="submission.submission_date" name="submission_date" id = "submission_date"	placeholder="Submission Date" #submitDate="ngModel" disabled>
			<mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
			<mat-datepicker #picker></mat-datepicker>
			</mat-form-field>
			<br>
			<!-- Input nama yang melakukan submission -->
			<mat-form-field class="full-width">
			<input type="text" matInput [(ngModel)]="submission.staff_name" id="staff_name" placeholder="Staff Name" required #staff="ngModel" (keyup)="changeFocus($event, implement)">
			</mat-form-field>
		</div>
		<!-- Input tanggal implementasi -->
		<div  class="ataskanan">
			<mat-form-field class="full-width">
			<input matInput [matDatepicker]="picker1" [min]="currentDate" [(ngModel)]="submission.implementation_target" id="implementation_target" placeholder="Implementation Date" required #implementation="ngModel" #implement (keyup)="changeFocus($event, purch)">
			<mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
			<mat-datepicker #picker1></mat-datepicker>
			</mat-form-field>
			<br>
			<!-- Input tanngal pembelian -->
			<mat-form-field class="full-width">
			<input matInput [matDatepicker]="picker2" [min]="currentDate" [(ngModel)]="submission.purchase_target" id="purchase_target" placeholder="Purchase Date" required #purchase="ngModel" #purch (keyup)="changeFocus($event, sub)">
			<mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
			<mat-datepicker #picker2></mat-datepicker>
			</mat-form-field>
		</div>
		<div>
			<mat-form-field class="full-width">
			<input type="text" matInput [(ngModel)]="submission.subject" id="subject" placeholder="Subject" required #subject="ngModel" #sub>
			</mat-form-field>
		</div>
	</div>
	<br>
	<h2>Submission Details</h2>
	<br>
	<div>
		<button mat-stroked-button class='kiri' (click)="addDetail()">Add Details</button>
		<br><br>
		<table class="mat-elevation-z1 submissions-list">
			<tr>
				<th>Item Name</th>
				<th>Part Number</th>
				<th>Brand</th>
				<th>Proposed Vendor</th>
				<th>Proposed Price</th>
				<th>Amount</th>
				<th>Discount Level (%)</th>
				<th>Proposed Total Price</th>
				<th>Description</th>
				<th>Purchase Reason</th>
				<th>Placement Location</th>
				<th>Action</th>
			</tr>
			<tr *ngFor="let field of fieldArray">
				<td>{{field.item}}</td>
				<td>{{field.partnumber}}</td>
				<td>{{field.brand}}</td>
				<td>{{field.proposed_vendor}}</td>
				<td class='nominal'>{{field.proposed_price | currency: 'IDR': 'symbol-narrow'}}</td>
				<td class='nominal'>{{field.amount}}</td>
				<td class='nominal'>{{field.discountlevel}}</td>
				<td class='nominal'>{{field.proposed_totalprice | currency: 'IDR': 'symbol-narrow'}}</td>
				<td>{{field.description}}</td>
				<td>{{field.purchase_reason}}</td>
				<td>{{field.placement_location}}</td>
				<td><button mat-stroked-button color="warn"  type="button" (click)="deleteFieldValue(i)">Delete</button></td>
			</tr>
		</table>
	</div>
	
	<!-- other information -->
	<div class="bawah">
		<!-- Action Buttons -->
		<button mat-stroked-button class='kiri' (click)="_saveSubmission(submission)">Save</button>
		<button mat-stroked-button color="warn" (click)="cancel()">Cancel</button>
	</div>
	<!-- productId -->
	<div class="container" id="hide">
		<mat-form-field>
		<input class="full-width" matInput type="text" id="newAttributeProductId" [(ngModel)]="newAttribute.productId" name="newAttributeProductId" disabled/>
		</mat-form-field>
	</div>
	<!-- vendor id -->
	<div class="container" id="hide">
		<mat-form-field>
		<input class="full-width" matInput type="text" id="newAttributeVendorId" [(ngModel)]="newAttribute.vendorId" name="newAttributeVendorId" disabled/>
		</mat-form-field>
	</div>
</div>